<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>

        <ui:composition template="./inuca_index_template.xhtml">

            <ui:define name="content">
                <div class="container">
                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="home_profileuca" role="tabpanel" aria-labelledby="home_profileuca-tab">
                            MENU DE INICIO SE VAN A MOSTRAR TODAS LAS ACTIVIDADES    
                        </div>

                        <div class="tab-pane fade" id="profileuca" role="tabpanel" aria-labelledby="profileuca-tab">
                            #{investigadoruca.llenarPerfil()}
                            <div class="col-12 user-img" align="center">
                                <p:graphicImage url="./../resources/francisco.jpg" class="img-thumbnail" width="150" height="150"/>
                            </div>

                            <br></br>

                            <h:form id="dataprofile">

                                <div class="form-group">
                                    <div class="input-group">
                                        <span class="input-group-addon" >Nombre de usuario <i class="glyphicon glyphicon-user"></i></span>&nbsp;&nbsp;
                                        <p:inputText class="form-control" placeholder="Nombre" value="#{investigadoruca.profileuser.nombre}"/>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <span class="input-group-addon">Correo electronico&nbsp; <i class="glyphicon glyphicon-envelope"></i></span>&nbsp;&nbsp;
                                        <p:inputText class="form-control" placeholder="Correo electronico" value="#{investigadoruca.profileuser.correo}" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <span class="input-group-addon">Telefono de movil&nbsp;&nbsp; <i class="glyphicon glyphicon-earphone"></i></span>&nbsp;&nbsp;
                                        <p:inputText class="form-control" placeholder="Telefono de contacto" value="#{investigadoruca.profileuser.telefono}" />
                                    </div>
                                </div>


                                <div class="form-group">
                                    <div class="input-group">
                                        <span class="input-group-addon">Rol de usuario &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="glyphicon glyphicon-info-sign"></i></span>&nbsp;&nbsp;
                                        <p:inputText class="form-control" placeholder="Rol de usuario" value="#{investigadoruca.profileuser.rol.nombre}"/>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <span class="input-group-addon">Departamento &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="glyphicon glyphicon-education"></i></span>&nbsp;&nbsp;
                                        <!-- <p:inputText class="form-control" placeholder="Departamento"/> -->
                                        <p:selectOneMenu>
                                            <f:selectItem itemLabel="#{investigadoruca.profileuser.codDepartamento.nombre}" itemValue="#{investigadoruca.profileuser.codDepartamento.codDepartamento}"></f:selectItem>
                                            <f:selectItems value="#{catalogobean.dpto}" var="c" itemLabel="#{c.nombre}" itemValue="#{c.codDepartamento}" ></f:selectItems>
                                        </p:selectOneMenu>
                                    </div>
                                </div>

                                <div align="center" >
                                    <p:commandButton class="btn btn-warning" value="Guardar Cambios" icon="ui-icon-disk" actionListener="#{investigadoruca.guardardatosProfile()}" update="dataprofile"/>                            
                                </div>
                            </h:form>
                        </div>

                        <div class="tab-pane fade" id="uploadinvestigacion" role="tabpanel" aria-labelledby="resetpassword-tab">

                            <h:form id="formuploadinvestigacion">
                                <div class="alert alert-danger" role="alert">
                                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                    <span class="sr-only"></span>
                                    Al guardar todos los datos el analista debe aprobar la investigacion para que pueda ser accesible por otros investigadores.
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" value="Nombre de la investigacion: "/>
                                        <p:inputText class="form-control" value="#{investigadoruca.investigacionusuario.titulo}" placeholder="escriba el nombre o tema de la investigacion" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" value="Escriba un Resumen: "/>
                                        <p:inputTextarea class="form-control" value="#{investigadoruca.investigacionusuario.resumen}" placeholder="escriba un breve resumen de la investigacion" autoResize="true" maxlength="10000" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" value="Fecha de publicaciÃ³n: "/>
                                        <p:calendar class="form-control" value="#{investigadoruca.investigacionusuario.fechaPublicacion}" disabled="true"/> <!-- fecha de ahora -->
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" value="Escriba algunas etiquetas: "/>
                                        <p:inputText class="form-control" value="#{investigadoruca.tags}" placeholder="Separe por comas ',' cada etiqueta" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" value="Escriba los nombres de las personas colaboradores: "/>
                                        <p:inputTextarea class="form-control" value="#{investigadoruca.investigacionusuario.colaboradores}" placeholder="Separe por comas ',' cada nombre" />
                                    </div>
                                </div> 

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" for="idioma" value="Idioma de la investigacion: "/>
                                        <p:selectOneMenu class="form-control" value="#{investigadoruca.idiomaselectmenuone}" required="true" id="idioma" >
                                            <f:selectItem itemLabel="Seleccionar" itemValue="" />
                                            <f:selectItems value="#{catalogobean.listidioma}" var="i" itemLabel="#{i.nombreIdioma}" itemValue="#{i.idIdioma}"/>
                                        </p:selectOneMenu>
                                        <p:message for="idioma" />
                                    </div>
                                </div>


                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" for="disciplina" value="Disciplina: "/>
                                        <p:selectOneMenu class="form-control" value="#{investigadoruca.disciplinaselectmenuone}" id="disciplina" required="true">
                                            <f:selectItem itemLabel="Seleccionar" itemValue="" />
                                            <f:selectItems value="#{catalogobean.listdisciplina}" var="d" itemLabel="#{d.nombreDisciplina}" itemValue="#{d.codDisciplina}"/>
                                        </p:selectOneMenu>
                                        <p:message for="disciplina" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" for="Departamento" value="Lugar de Departamento: "/>
                                        <p:selectOneMenu class="form-control" value="#{investigadoruca.dptolugarselectmenuone}" id="Departamento" required="true">
                                            <f:selectItem itemLabel="Seleccionar" itemValue="" />
                                            <f:selectItems value="#{catalogobean.listdptolugar}" var="dptol" itemLabel="#{dptol.nombreDpto}" itemValue="#{dptol.codDptoLugar}"/>
                                        </p:selectOneMenu>
                                        <p:message for="Departamento" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="input-group">
                                        <p:outputLabel class="input-group-addon" style="width: 25%;" for="municipio" value="Lugar Municipio: "/>
                                        <p:selectOneMenu class="form-control" value="#{investigadoruca.munilugarselectmenuone}" id="municipio" required="true">
                                            <f:selectItem itemLabel="Seleccionar" itemValue="" />
                                            <f:selectItems value="#{catalogobean.listmunilugar}" var="munil" itemLabel="#{munil.nombreMunicipio}" itemValue="#{munil.codDptoLugar}"/>
                                        </p:selectOneMenu>
                                        <p:message for="municipio" />
                                    </div>
                                </div>

                                <p:commandButton value="Subir Investigacion" actionListener="#{investigadoruca.guardarInvestigacion()}" update="formuploadinvestigacion"/>
                            </h:form>

                        </div>

                        <div class="tab-pane fade" id="misinvestigaciones" role="tabpanel" aria-labelledby="resetpassword-tab">
                            MIS INVESTIGACION

                        </div>
                    </div>
                </div>
            </ui:define>
        </ui:composition>

    </body>
</html>

